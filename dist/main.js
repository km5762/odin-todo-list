(()=>{"use strict";var e={d:(t,n)=>{for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};function n(e){const t=[];let n=e;return{addTodoList:function(e){return t.push(e),this},removeTodoList:function(e){t.splice(e,1)},getList:function(e){return t[e]},get name(){return n},set name(e){n=e},get listsArray(){return t}}}function o(e){const t=[];let n=e;return{addTask:function(e){return t.push(e),this},removeTask:function(e){t.splice(e,1)},get name(){return n},set name(e){n=e},get tasksArray(){return t}}}function r(e,t){let n=!1;new Date;const o=e;let r=t;return{markComplete:function(){n=!0},get description(){return o},get dueDate(){return r},set dueDate(e){r=e},get complete(){return n}}}e.r(t),e.d(t,{nq:()=>n,vr:()=>r,qv:()=>o});const s=function(e){const n=e??[],o={container:null,list:null};return{addListContainer:function(e){return n.push((0,t.default)(e)),this},switchFocus:function(e,t){return o.container=e,o.list=t,this},removeListContainer:function(e){n.splice(e,1)},switchFocusedContainer:function(e){return o.container=e,this},switchFocusedList:function(e){return o.list=e,this},get focusedContainer(){return n[o.container]},get focusedList(){return this.focusedContainer.getList(o.list)},get newestList(){return this.focusedContainer.getList(this.focusedContainer.listsArray[this.focusedContainer.listsArray.length-1])},get listContainers(){return n}}};window.addEventListener("load",(()=>{!function(e){function t(t,n){const o=document.querySelector(".list-content"),r=document.querySelector("#task-template").content.cloneNode(!0),c=r.querySelector(".complete"),i=r.querySelector(".description"),l=r.querySelector(".due-date");let a;a=null!==t.dueDate?t.dueDate.toISOString().slice(0,10):"",i.textContent=t.description,l.textContent=a,c.addEventListener("click",(()=>{e.focusedList.removeTask(n),s()})),o.appendChild(r)}function n(t,n){const o=document.querySelector(".lists"),r=document.querySelector("#list-template").content.cloneNode(!0),c=r.querySelector(".name"),i=r.querySelector(".list");c.textContent=t.name,i.addEventListener("click",(()=>{e.switchFocusedList(n),s()})),o.appendChild(r)}function s(){!function(){const e=document.querySelector(".lists"),t=document.querySelector(".list-content");e.textContent="",t.textContent=""}();const o=document.querySelector("section h2"),r=e.focusedContainer,s=e.focusedList;console.log(s),o.textContent=s.name,function(e){for(let t=0;t<e.listsArray.length;t++)n(e.listsArray[t],t)}(r),function(e){for(let n=0;n<e.tasksArray.length;n++)t(e.tasksArray[n],n)}(s),localStorage.setItem("containers",JSON.stringify(e.listContainers))}e.switchFocus(0,0),function(){const t=document.querySelector(".add-list"),n=document.querySelector("#add-list-modal"),r=document.querySelector("#add-list-modal .close-modal"),c=document.querySelector(".add-list-form"),i=c.querySelector(".name");r.addEventListener("click",(e=>{e.preventDefault(),c.reset(),n.style.display="none"})),window.addEventListener("click",(e=>{e.target===n&&(n.style.display="none")})),t.addEventListener("click",(()=>{n.style.display="block"})),c.addEventListener("submit",(t=>{const r=document.querySelector(".add-task-icon");t.preventDefault();const l=o(i.value);e.focusedContainer.addTodoList(l),n.style.display="none",c.reset(),e.switchFocusedList(e.focusedContainer.listsArray.length-1),r.style.display="block",s()}))}(),function(){const t=document.querySelector(".add-task-icon"),n=document.querySelector("#add-task-modal"),o=document.querySelector("#add-task-modal .close-modal"),c=document.querySelector(".add-task-form"),i=c.querySelector(".name");o.addEventListener("click",(e=>{e.preventDefault(),c.reset(),n.style.display="none"})),window.addEventListener("click",(e=>{e.target===n&&(n.style.display="none")})),t.addEventListener("click",(()=>{n.style.display="block"})),c.addEventListener("submit",(t=>{t.preventDefault();const o=c.querySelector(".due-date").valueAsDate;console.log(o);const l=r(i.value,o);e.focusedList.addTask(l),n.style.display="none",c.reset(),s()}))}(),s()}(function(){const e=localStorage.getItem("containers");if(e){const t=JSON.parse(e),c=[];for(let e=0;e<t.length;e++){const s=n(t[e].name);for(let n=0;n<t[e].listsArray.length;n++){const c=o(t[e].listsArray[n].name);s.addTodoList(c);for(let o=0;o<t[e].listsArray[n].tasksArray.length;o++){const s=r(t[e].listsArray[n].tasksArray[o].name,t[e].listsArray[n].tasksArray[o].dueDate);c.addTask(s)}}c.push(s)}return s(c)}return s()}())}))})();